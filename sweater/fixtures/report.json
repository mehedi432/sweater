[
 {
  "add_total_row": 0,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-01-28 07:05:42.550367",
  "module": "Selling",
  "name": "Merchandiser Status",
  "prepared_report": 0,
  "query": "SELECT\n    CONCAT('<a href=\"/app/sales-order/', so_details.Sales_Order_ID, '\" target=\"_blank\">', so_details.Sales_Order_ID, '</a>') AS Sales_Order_Link,  -- Sales Order No link\n    MAX(so_details.Order_Date) AS Order_Date,   -- Use MAX() to get the latest Order Date\n    MAX(so_details.Delivery_Date) AS Delivery_Date,  -- Use MAX() to get the latest Delivery Date\n    so_details.Order_Status,\n    CONCAT('<a href=\"/app/customer/', so_details.Sales_Order_ID, '\" target=\"_blank\">', so_details.Customer_Name, '</a>') AS Customer_Link,  -- Customer Name link\n    GROUP_CONCAT(DISTINCT CONCAT('<a href=\"/app/item/', soi.item_code, '\" target=\"_blank\">', i.item_name, '</a>')) AS Item_Name,  -- Concatenate item names with links\n    MAX(i.yarn_count) AS Yarn_Count,             -- Get any yarn_count in the group\n    MAX(i.gauge) AS Gauge,                       -- Get any gauge in the group\n    MAX(i.ply) AS Ply,                           -- Get any ply in the group\n    MAX(i.machine_type) AS Machine_Type,         -- Get any machine_type in the group\n    MAX(i.knitting_time) AS Knitting_Time,       -- Get any knitting_time in the group\n    MAX(i.weight) AS Weight,                     -- Get any weight in the group\n    SUM(soi.qty) AS Quantity_Ordered,            -- Sum the ordered quantities\n    SUM(soi.ordered_qty) AS Quantity_Delivered,  -- Sum the delivered quantities\n    SUM(soi.qty) - SUM(soi.ordered_qty) AS Pending_Quantity,  -- Calculate the pending quantity\n    MAX(soi.rate) AS Item_Rate,                  -- Get any rate in the group\n    SUM(soi.qty * soi.rate) AS Total_Amount,     -- Calculate total amount for the group\n    GROUP_CONCAT(DISTINCT CONCAT('<a href=\"/app/item/', b_item.item_code, '\" target=\"_blank\">', b_item.item_name, '</a>')) AS Raw_Material_Name,  -- Concatenate raw material names with links\n    SUM(b_item.stock_qty) AS BOM_Required_Quantity,  -- Sum the required BOM quantities\n    SUM(soi.qty * b_item.stock_qty) AS Total_Raw_Material_Quantity_Required,  -- Total raw material quantity\n    IFNULL(SUM(bin.actual_qty), 0) AS Available_Stock,  -- Sum available stock\n    (IFNULL(SUM(bin.actual_qty), 0) - SUM(soi.qty * b_item.stock_qty)) AS Stock_Shortfall,  -- Calculate stock shortfall\n    soi.stock_uom AS UOM,\n    MAX(mr.status) AS Raw_Material_Status,        -- Get any raw material status\n    i.item_group AS Item_Group,                   -- Grouping by Item Group (style)\n    bin.warehouse AS Warehouse,                   -- Grouping by Warehouse (place)\n    GROUP_CONCAT(DISTINCT CONCAT('<a href=\"/app/bom/', b.name, '\" target=\"_blank\">', b.name, '</a>')) AS BOM_Links,  -- Multiple BOM links\n    CONCAT('<a href=\"/app/sales-order/', so_details.Sales_Order_ID, '\" target=\"_blank\">', so_details.po_no, '</a>') AS Customer_PO_Link,  -- Customer's Purchase Order (PO) link\n    COALESCE(u.full_name, so_details.owner) AS Merchandiser_Name,  -- Include creator's name\n    COALESCE(u.email, 'No Email Assigned') AS Merchandiser_Email  -- Include creator's email\nFROM\n    (\n        -- Subquery to get unique Sales Order Details\n        SELECT\n            so.name AS Sales_Order_ID,\n            so.transaction_date AS Order_Date,\n            so.delivery_date AS Delivery_Date,\n            so.status AS Order_Status,\n            c.customer_name AS Customer_Name,\n            so.po_no,  -- Fetch the customer's PO number here\n            so.owner   -- Include the owner field\n        FROM\n            `tabSales Order` so\n        JOIN\n            `tabCustomer` c ON so.customer = c.name\n        WHERE\n            so.docstatus = 1\n    ) AS so_details\nJOIN\n    `tabSales Order Item` soi ON so_details.Sales_Order_ID = soi.parent\nJOIN\n    `tabItem` i ON soi.item_code = i.item_code\nLEFT JOIN\n    `tabBOM` b ON b.item = soi.item_code AND b.is_active = 1 AND b.docstatus = 1\nLEFT JOIN\n    `tabBOM Item` b_item ON b.name = b_item.parent\nLEFT JOIN\n    `tabBin` bin ON b_item.item_code = bin.item_code\nLEFT JOIN\n    `tabMaterial Request Item` mri ON mri.item_code = b_item.item_code\nLEFT JOIN\n    `tabMaterial Request` mr ON mr.name = mri.parent\nLEFT JOIN\n    `tabUser` u ON so_details.owner = u.name  -- Map owner to the user table\nWHERE\n    mr.docstatus = 1 -- Only valid Material Requests\nGROUP BY\n    so_details.Sales_Order_ID,\n    so_details.Order_Status,\n    so_details.Customer_Name,\n    i.item_group,           -- Group by Item Group (style)\n    bin.warehouse           -- Group by Warehouse (place)\nORDER BY\n    so_details.Order_Date DESC;\n",
  "ref_doctype": "Sales Order",
  "reference_report": null,
  "report_name": "Merchandiser Status",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Merchandiser Status",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Maintenance User"
   },
   {
    "parent": "Merchandiser Status",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sales User"
   },
   {
    "parent": "Merchandiser Status",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sales Manager"
   },
   {
    "parent": "Merchandiser Status",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Accounts User"
   },
   {
    "parent": "Merchandiser Status",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Stock User"
   },
   {
    "parent": "Merchandiser Status",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Merchandiser"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 0,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-01-28 07:18:37.899651",
  "module": "Selling",
  "name": "Order Progress Report",
  "prepared_report": 0,
  "query": "SELECT\n    so.name AS sales_order,\n    so.transaction_date AS order_date,\n    so.delivery_date AS delivery_date,\n    so.status AS order_status,\n    c.customer_name,\n    GROUP_CONCAT(DISTINCT i.item_name) AS item_name,\n    SUM(soi.qty) AS total_qty_ordered,\n    SUM(soi.ordered_qty) AS total_qty_delivered,\n    (SUM(soi.qty) - SUM(soi.ordered_qty)) AS pending_qty,\n    SUM(b_item.stock_qty * soi.qty) AS raw_material_required,\n    IFNULL(SUM(bin.actual_qty), 0) AS available_stock,\n    (SUM(b_item.stock_qty * soi.qty) - IFNULL(SUM(bin.actual_qty), 0)) AS raw_material_shortfall,\n    MAX(mr.status) AS material_request_status,\n    COALESCE(u.full_name, 'Unknown') AS merchandiser_name,\n    COALESCE(u.email, 'No Email Assigned') AS merchandiser_email\nFROM\n    `tabSales Order` so\nLEFT JOIN\n    `tabCustomer` c ON so.customer = c.name\nLEFT JOIN\n    `tabSales Order Item` soi ON so.name = soi.parent\nLEFT JOIN\n    `tabItem` i ON soi.item_code = i.item_code\nLEFT JOIN\n    `tabBOM` b ON b.item = soi.item_code AND b.is_active = 1 AND b.docstatus = 1\nLEFT JOIN\n    `tabBOM Item` b_item ON b.name = b_item.parent\nLEFT JOIN\n    `tabBin` bin ON b_item.item_code = bin.item_code\nLEFT JOIN\n    `tabMaterial Request Item` mri ON mri.item_code = b_item.item_code\nLEFT JOIN\n    `tabMaterial Request` mr ON mr.name = mri.parent AND mr.docstatus = 1\nLEFT JOIN\n    `tabUser` u ON so.owner = u.name\nWHERE\n    so.docstatus = 1\nGROUP BY\n    so.name\nORDER BY\n    so.transaction_date DESC\n",
  "ref_doctype": "Sales Order",
  "reference_report": null,
  "report_name": "Order Progress Report",
  "report_script": "",
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Order Progress Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Maintenance User"
   },
   {
    "parent": "Order Progress Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sales User"
   },
   {
    "parent": "Order Progress Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sales Manager"
   },
   {
    "parent": "Order Progress Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Accounts User"
   },
   {
    "parent": "Order Progress Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Stock User"
   },
   {
    "parent": "Order Progress Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Merchandiser"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 0,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-01-28 07:23:28.616450",
  "module": "Selling",
  "name": "Merchandiser Performance Report",
  "prepared_report": 0,
  "query": "SELECT\n    u.full_name AS \"Merchandiser Name\",\n    COUNT(so.name) AS \"Total Sales Orders\",  -- Total number of orders handled by the merchandiser\n    SUM(soi.qty * soi.rate) AS \"Total Sales Value\",  -- Total value of orders handled by the merchandiser\n    SUM(soi.qty) AS \"Total Quantity Ordered\",  -- Total quantity ordered by the merchandiser\n    SUM(soi.ordered_qty) AS \"Total Quantity Delivered\",  -- Total quantity delivered by the merchandiser\n    (SUM(soi.qty) - SUM(soi.ordered_qty)) AS \"Pending Quantity\",  -- Pending quantity\n    COUNT(CASE WHEN so.delivery_date <= CURDATE() THEN 1 END) AS \"On Time Deliveries\",  -- On-time deliveries\n    COUNT(CASE WHEN so.status = 'Pending' THEN 1 END) AS \"Pending Orders\",  -- Pending orders\n    COUNT(CASE WHEN so.status = 'Completed' THEN 1 END) AS \"Completed Orders\",  -- Completed orders\n    COUNT(CASE WHEN so.status = 'Cancelled' THEN 1 END) AS \"Cancelled Orders\",  -- Cancelled orders\n    COUNT(CASE WHEN mr.status = 'Submitted' THEN 1 END) AS \"Raw Material Requested\",  -- Raw materials requested\n    SUM(b_item.stock_qty * soi.qty) AS \"Total Raw Material Required\",  -- Total raw material required for orders handled\n    IFNULL(SUM(bin.actual_qty), 0) AS \"Total Available Stock\",  -- Total available stock\n    (SUM(b_item.stock_qty * soi.qty) - IFNULL(SUM(bin.actual_qty), 0)) AS \"Raw Material Shortfall\"  -- Raw material shortfall\nFROM\n    `tabSales Order` so\nLEFT JOIN\n    `tabSales Order Item` soi ON so.name = soi.parent\nLEFT JOIN\n    `tabItem` i ON soi.item_code = i.item_code\nLEFT JOIN\n    `tabBOM` b ON b.item = soi.item_code AND b.is_active = 1 AND b.docstatus = 1\nLEFT JOIN\n    `tabBOM Item` b_item ON b.name = b_item.parent\nLEFT JOIN\n    `tabBin` bin ON b_item.item_code = bin.item_code\nLEFT JOIN\n    `tabMaterial Request Item` mri ON mri.item_code = b_item.item_code\nLEFT JOIN\n    `tabMaterial Request` mr ON mr.name = mri.parent AND mr.docstatus = 1\nLEFT JOIN\n    `tabUser` u ON so.owner = u.name  -- Assuming owner is the merchandiser\nWHERE\n    so.docstatus = 1  -- Only submitted sales orders\nGROUP BY\n    u.name\nORDER BY\n    \"Total Sales Value\" DESC;  -- Sort by the total sales value for the merchandiser\n",
  "ref_doctype": "Sales Order",
  "reference_report": null,
  "report_name": "Merchandiser Performance Report",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Merchandiser Performance Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Maintenance User"
   },
   {
    "parent": "Merchandiser Performance Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sales User"
   },
   {
    "parent": "Merchandiser Performance Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sales Manager"
   },
   {
    "parent": "Merchandiser Performance Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Accounts User"
   },
   {
    "parent": "Merchandiser Performance Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Stock User"
   },
   {
    "parent": "Merchandiser Performance Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Merchandiser"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 0,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-01-28 07:30:13.431504",
  "module": "Selling",
  "name": "Order Delivery Status Report",
  "prepared_report": 0,
  "query": "SELECT\n    so.name AS Sales_Order_ID,\n    so.transaction_date AS Order_Date,\n    so.delivery_date AS Delivery_Date,\n    so.status AS Order_Status,\n    c.customer_name AS Customer_Name,\n    GROUP_CONCAT(DISTINCT i.item_name) AS Item_Name,\n    SUM(soi.qty) AS Total_Quantity_Ordered,\n    SUM(COALESCE(dn_item.qty, 0)) AS Total_Quantity_Delivered,\n    (SUM(soi.qty) - SUM(COALESCE(dn_item.qty, 0))) AS Pending_Quantity,  -- Correct calculation for Pending Quantity\n    COALESCE(SUM(soi.qty) - SUM(COALESCE(dn_item.qty, 0)), 0) AS Pending_Quantity  -- Ensure this is not negative\nFROM\n    `tabSales Order` so\nJOIN\n    `tabSales Order Item` soi ON so.name = soi.parent\nJOIN\n    `tabItem` i ON soi.item_code = i.item_code\nLEFT JOIN\n    `tabCustomer` c ON so.customer = c.name\nLEFT JOIN\n    `tabDelivery Note Item` dn_item ON soi.item_code = dn_item.item_code AND dn_item.parenttype = 'Delivery Note'\nLEFT JOIN\n    `tabDelivery Note` dn ON dn.name = dn_item.parent\nWHERE\n    so.docstatus = 1  -- Only include submitted Sales Orders\nGROUP BY\n    so.name, c.customer_name\nORDER BY\n    so.transaction_date DESC;\n",
  "ref_doctype": "Sales Order",
  "reference_report": null,
  "report_name": "Order Delivery Status Report",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Order Delivery Status Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Maintenance User"
   },
   {
    "parent": "Order Delivery Status Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sales User"
   },
   {
    "parent": "Order Delivery Status Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sales Manager"
   },
   {
    "parent": "Order Delivery Status Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Accounts User"
   },
   {
    "parent": "Order Delivery Status Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Stock User"
   },
   {
    "parent": "Order Delivery Status Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Merchandiser"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 0,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-01-28 07:33:44.740010",
  "module": "Selling",
  "name": "Material Procurement Status Report",
  "prepared_report": 0,
  "query": "SELECT\n    so.name AS Sales_Order_ID,\n    so.transaction_date AS Order_Date,\n    so.delivery_date AS Delivery_Date,\n    so.status AS Order_Status,\n    c.customer_name AS Customer_Name,\n    GROUP_CONCAT(DISTINCT i.item_name) AS Item_Name,\n    SUM(soi.qty) AS Total_Quantity_Ordered,\n    SUM(COALESCE(dn_item.qty, 0)) AS Total_Quantity_Delivered,\n    (SUM(soi.qty) - SUM(COALESCE(dn_item.qty, 0))) AS Pending_Quantity,  -- Pending quantity calculation\n    COALESCE(SUM(soi.qty) - SUM(COALESCE(dn_item.qty, 0)), 0) AS Pending_Quantity,  -- Ensure no negative values\n    GROUP_CONCAT(DISTINCT CONCAT('<a href=\"/app/item/', soi.item_code, '\" target=\"_blank\">', i.item_name, '</a>')) AS Item_Name_Links,\n    SUM(b_item.stock_qty * soi.qty) AS Raw_Material_Required,\n    IFNULL(SUM(bin.actual_qty), 0) AS Available_Stock,\n    (SUM(b_item.stock_qty * soi.qty) - IFNULL(SUM(bin.actual_qty), 0)) AS Raw_Material_Shortfall,\n    GROUP_CONCAT(DISTINCT CONCAT('<a href=\"/app/material-request/', mr.name, '\" target=\"_blank\">', mr.name, '</a>')) AS Material_Request_Links,\n    COALESCE(mr.status, 'Not Requested') AS Material_Request_Status,  -- Material Request Status\n    GROUP_CONCAT(DISTINCT CONCAT('<a href=\"/app/purchase-order/', po.name, '\" target=\"_blank\">', po.name, '</a>')) AS Purchase_Order_Links,\n    COALESCE(po.status, 'Not Ordered') AS Purchase_Order_Status  -- Purchase Order Status\nFROM\n    `tabSales Order` so\nJOIN\n    `tabSales Order Item` soi ON so.name = soi.parent\nJOIN\n    `tabItem` i ON soi.item_code = i.item_code\nLEFT JOIN\n    `tabCustomer` c ON so.customer = c.name\nLEFT JOIN\n    `tabBOM` b ON b.item = soi.item_code AND b.is_active = 1 AND b.docstatus = 1\nLEFT JOIN\n    `tabBOM Item` b_item ON b.name = b_item.parent\nLEFT JOIN\n    `tabBin` bin ON b_item.item_code = bin.item_code\nLEFT JOIN\n    `tabMaterial Request Item` mri ON mri.item_code = b_item.item_code\nLEFT JOIN\n    `tabMaterial Request` mr ON mr.name = mri.parent AND mr.docstatus = 1\nLEFT JOIN\n    `tabPurchase Order Item` poi ON poi.item_code = b_item.item_code\nLEFT JOIN\n    `tabPurchase Order` po ON po.name = poi.parent AND po.docstatus = 1\nLEFT JOIN\n    `tabDelivery Note Item` dn_item ON soi.item_code = dn_item.item_code AND dn_item.parenttype = 'Delivery Note'\nLEFT JOIN\n    `tabDelivery Note` dn ON dn.name = dn_item.parent\nWHERE\n    so.docstatus = 1  -- Only include submitted Sales Orders\nGROUP BY\n    so.name, c.customer_name\nORDER BY\n    so.transaction_date DESC;\n",
  "ref_doctype": "Sales Order",
  "reference_report": null,
  "report_name": "Material Procurement Status Report",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Material Procurement Status Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Maintenance User"
   },
   {
    "parent": "Material Procurement Status Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sales User"
   },
   {
    "parent": "Material Procurement Status Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sales Manager"
   },
   {
    "parent": "Material Procurement Status Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Accounts User"
   },
   {
    "parent": "Material Procurement Status Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Stock User"
   },
   {
    "parent": "Material Procurement Status Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Merchandiser"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 0,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-01-28 11:38:41.619281",
  "module": "Selling",
  "name": "Style/Buyer-Wise Sales Analysis Report",
  "prepared_report": 0,
  "query": "",
  "ref_doctype": "Sales Order",
  "reference_report": null,
  "report_name": "Style/Buyer-Wise Sales Analysis Report",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Style/Buyer-Wise Sales Analysis Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Maintenance User"
   },
   {
    "parent": "Style/Buyer-Wise Sales Analysis Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sales User"
   },
   {
    "parent": "Style/Buyer-Wise Sales Analysis Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sales Manager"
   },
   {
    "parent": "Style/Buyer-Wise Sales Analysis Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Accounts User"
   },
   {
    "parent": "Style/Buyer-Wise Sales Analysis Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Stock User"
   },
   {
    "parent": "Style/Buyer-Wise Sales Analysis Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Merchandiser"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 1,
  "add_translate_data": 1,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-09-11 23:27:25.705087",
  "module": "Sample",
  "name": "Daily Sample Requests Summary",
  "prepared_report": 0,
  "query": "SELECT\n    dsr.name AS \"Sample ID:Link/Daily Sample Request:120\",\n    dsr.style AS \"Style Code:Data:100\",\n    dsr.buyer AS \"Buyer:Link/Customer:120\",\n    dsr.sample_type AS \"Sample Type:Data:120\",\n    dsr.urgency_priority AS \"Priority:Data:80\",\n    dsr.merchandiser_display AS \"Merchandiser:Data:100\",\n    dsr.designer AS \"Designer:Link/Employee:100\",\n\n    dsr.gender_age_group AS \"Target Gender Group:Data:80\",\n    dsr.season_collection AS \"Season/Collection:Data:100\",\n    dsr.brief_style_description__key_features AS \"Style Brief:Data:180\",\n    dsr.body_knitting_pattern AS \"Body Knitting Pattern:Data:120\",\n    dsr.rib_knitting_pattern AS \"Rib Pattern:Data:120\",\n    dsr.gauge AS \"Gauge:Data:80\",\n    dsr.pp_sample_size AS \"PP Sample Size:Data:80\",\n\n    -- Render image inline using HTML\n    CASE\n        WHEN dsr.reference_image IS NOT NULL AND dsr.reference_image != ''\n        THEN CONCAT('<img src=\"', dsr.reference_image, '\" width=\"80\" />')\n        ELSE ''\n    END AS \"Reference Image:Data:150\",\n\n    dsr.requested_time AS \"Requested On:Datetime:140\",\n    DATEDIFF(NOW(), dsr.requested_time) AS \"Days Since Request:Int:60\",\n\n    dsr.knitting_time AS \"Knitting Time (hrs):Float:80\",\n    dsr.approximate_delivery_date AS \"Expected Delivery:Date:120\"\n\nFROM\n    `tabDaily Sample Request` dsr\nWHERE\n    dsr.docstatus < 2\nORDER BY\n    dsr.requested_time DESC;\n",
  "ref_doctype": "Daily Sample Request",
  "reference_report": null,
  "report_name": "Daily Sample Requests Summary",
  "report_script": "def execute(filters=None):\n    columns = [\n        {\"label\": \"Sample ID\", \"fieldname\": \"sample_id\", \"fieldtype\": \"Link\", \"options\": \"Daily Sample Request\", \"width\": 120},\n        {\"label\": \"Style Code\", \"fieldname\": \"style\", \"fieldtype\": \"Data\", \"width\": 100},\n        {\"label\": \"Buyer\", \"fieldname\": \"buyer\", \"fieldtype\": \"Link\", \"options\": \"Customer\", \"width\": 120},\n        {\"label\": \"Merchandiser\", \"fieldname\": \"merchandiser\", \"fieldtype\": \"Data\", \"width\": 120},\n        {\"label\": \"Designer\", \"fieldname\": \"designer\", \"fieldtype\": \"Link\", \"options\": \"Employee\", \"width\": 120},\n        {\"label\": \"Reference Image\", \"fieldname\": \"reference_image\", \"fieldtype\": \"HTML\", \"width\": 100},\n        {\"label\": \"Requested On\", \"fieldname\": \"requested_time\", \"fieldtype\": \"Datetime\", \"width\": 140},\n    ]\n\n    data = []\n    samples = frappe.get_all(\n        \"Daily Sample Request\",\n        filters={\"docstatus\": [\"<\", 2]},\n        fields=[\"name\",\"style\",\"buyer\",\"merchandiser_display\",\"designer\",\"reference_image\",\"request_date\"]\n    )\n\n    for s in samples:\n        data.append({\n            \"sample_id\": s.name,\n            \"style\": s.style,\n            \"buyer\": s.buyer,\n            \"merchandiser\": s.merchandiser_display,\n            \"designer\": s.designer,\n            \"reference_image\": f'<img src=\"{s.reference_image}\" width=\"80\">' if s.reference_image else \"No Image\",\n            \"requested_time\": s.request_date\n        })\n\n    return columns, data\n",
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Daily Sample Requests Summary",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "System Manager"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 1,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-08-28 23:01:42.933787",
  "module": "Sample",
  "name": "Buyer-wise Sample Count",
  "prepared_report": 0,
  "query": "SELECT\n    buyer AS \"Buyer:Link/Customer:200\",\n    COUNT(name) AS \"Total Requests:Int:120\"\nFROM\n    `tabDaily Sample Request`\nGROUP BY buyer\nORDER BY COUNT(name) DESC;\n",
  "ref_doctype": "Daily Sample Request",
  "reference_report": null,
  "report_name": "Buyer-wise Sample Count",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Buyer-wise Sample Count",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "System Manager"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 0,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-08-28 23:02:12.687220",
  "module": "Sample",
  "name": "Merchandiser Workload Report",
  "prepared_report": 0,
  "query": "SELECT\n    merchandiser AS \"Merchandiser:Link/Employee:200\",\n    COUNT(name) AS \"Requests Assigned:Int:120\"\nFROM\n    `tabDaily Sample Request`\nGROUP BY merchandiser\nORDER BY COUNT(name) DESC;\n",
  "ref_doctype": "Daily Sample Request",
  "reference_report": null,
  "report_name": "Merchandiser Workload Report",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Merchandiser Workload Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "System Manager"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 1,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-08-28 23:02:51.111462",
  "module": "Sample",
  "name": "Designer Load Report",
  "prepared_report": 0,
  "query": "SELECT\n    designer AS \"Designer:Link/Employee:200\",\n    COUNT(name) AS \"Total Requests:Int:120\"\nFROM\n    `tabDaily Sample Request`\nGROUP BY designer\nORDER BY COUNT(name) DESC;\n",
  "ref_doctype": "Daily Sample Request",
  "reference_report": null,
  "report_name": "Designer Load Report",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Designer Load Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "System Manager"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 1,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-08-28 23:03:38.536694",
  "module": "Sample",
  "name": "Sample Type Analysis",
  "prepared_report": 0,
  "query": "SELECT\n    sample_type AS \"Sample Type:Data:200\",\n    COUNT(name) AS \"Requests:Int:120\"\nFROM\n    `tabDaily Sample Request`\nGROUP BY sample_type\nORDER BY COUNT(name) DESC;\n",
  "ref_doctype": "Daily Sample Request",
  "reference_report": null,
  "report_name": "Sample Type Analysis",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Sample Type Analysis",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "System Manager"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 0,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-08-28 23:04:11.756734",
  "module": "Sample",
  "name": "Gauge & Knitting Pattern Trend",
  "prepared_report": 0,
  "query": null,
  "ref_doctype": "Daily Sample Request",
  "reference_report": null,
  "report_name": "Gauge & Knitting Pattern Trend",
  "report_script": "SELECT\n    gauge AS \"Gauge:Data:120\",\n    knitting_pattern AS \"Knitting Pattern:Data:200\",\n    COUNT(name) AS \"Requests:Int:120\"\nFROM\n    `tabDaily Sample Request`\nGROUP BY gauge, knitting_pattern\nORDER BY COUNT(name) DESC;\n",
  "report_type": "Script Report",
  "roles": [
   {
    "parent": "Gauge & Knitting Pattern Trend",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "System Manager"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 0,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-08-28 23:04:36.922842",
  "module": "Sample",
  "name": "Raw Material Requirement (Child Table Join)",
  "prepared_report": 0,
  "query": "SELECT\n    dsr.name AS \"Request ID:Link/Daily Sample Request:150\",\n    dsr.buyer AS \"Buyer:Link/Customer:150\",\n    dsr.style AS \"Style:Data:150\",\n    mr.item_code AS \"Material:Link/Item:150\",\n    mr.category AS \"Category:Data:120\",\n    mr.qty AS \"Required Qty:Float:120\",\n    mr.uom AS \"UOM:Link/UOM:80\"\nFROM\n    `tabDaily Sample Request` dsr\nJOIN\n    `tabMaterial Requirement` mr\nON\n    mr.parent = dsr.name\nORDER BY dsr.requested_time DESC;\n",
  "ref_doctype": "Daily Sample Request",
  "reference_report": null,
  "report_name": "Raw Material Requirement (Child Table Join)",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Raw Material Requirement (Child Table Join)",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "System Manager"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 0,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-08-28 23:05:21.471141",
  "module": "Sample",
  "name": "Sample Request Quantity Report (Child Table Join)",
  "prepared_report": 0,
  "query": "SELECT\n    dsr.name AS \"Request ID:Link/Daily Sample Request:150\",\n    dsr.buyer AS \"Buyer:Link/Customer:150\",\n    dsr.style AS \"Style:Data:150\",\n    sq.size AS \"Size:Data:100\",\n    sq.qty AS \"Quantity:Int:100\"\nFROM\n    `tabDaily Sample Request` dsr\nJOIN\n    `tabSample Request Quantity` sq\nON\n    sq.parent = dsr.name\nORDER BY dsr.requested_time DESC;\n",
  "ref_doctype": "Daily Sample Request",
  "reference_report": null,
  "report_name": "Sample Request Quantity Report (Child Table Join)",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Sample Request Quantity Report (Child Table Join)",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "System Manager"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 0,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-08-28 23:05:52.769376",
  "module": "Sample",
  "name": "Comments / Feedback Tracking",
  "prepared_report": 0,
  "query": "SELECT\n    dsr.name AS \"Request ID:Link/Daily Sample Request:150\",\n    dsr.buyer AS \"Buyer:Link/Customer:150\",\n    dsr.style AS \"Style:Data:150\",\n    sc.comment_by AS \"Comment By:Data:150\",\n    sc.comment_text AS \"Comment:Text:300\"\nFROM\n    `tabDaily Sample Request` dsr\nJOIN\n    `tabSample Comments` sc\nON\n    sc.parent = dsr.name\nORDER BY dsr.requested_time DESC;\n",
  "ref_doctype": "Daily Sample Request",
  "reference_report": null,
  "report_name": "Comments / Feedback Tracking",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Comments / Feedback Tracking",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "System Manager"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 1,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-09-07 01:06:56.157789",
  "module": "Sample",
  "name": "Sample Work Order Status & KPI Report",
  "prepared_report": 0,
  "query": "SELECT\n    swo.name AS \"Sample Work Order:Link/Sample Work Order\",\n    swo.sample_type AS \"Sample Type:Select:150\",\n    swo.buyer AS \"Buyer:Link/Customer:120\",\n    swo.style AS \"Style:Data:150\",\n    swo.designer AS \"Designer:Link/Employee:120\",\n    swo.merchandiser_display AS \"Merchandiser:Data:120\",\n    swo.urgency_priority AS \"Urgency Priority:Select:80\",\n    swo.requested_time AS \"Request Date:Datetime:120\",\n    swo.approximate_delivery_date AS \"Approx. Delivery Date:Date:120\",\n    CASE \n        WHEN swo.docstatus = 0 THEN 'Work In Progress'\n        WHEN swo.docstatus = 1 AND swo.approximate_delivery_date >= CURDATE() THEN 'Submitted On-Time'\n        WHEN swo.docstatus = 1 AND swo.approximate_delivery_date < CURDATE() THEN 'Submitted Late'\n        ELSE 'Cancelled'\n    END AS \"Status:Data:120\",\n    DATEDIFF(CURDATE(), swo.requested_time) AS \"Days Since Request:Int:80\",\n    DATEDIFF(swo.approximate_delivery_date, swo.requested_time) AS \"Planned Lead Time (Days):Int:100\",\n    SUM(IFNULL(mr.quantity,0)) AS \"Total Material Qty:Float:80\",\n    COUNT(DISTINCT srq.name) AS \"Total Sample Qty:Int:80\",\n    GROUP_CONCAT(DISTINCT wc.process_name) AS \"Workstations Assigned:Data:200\",\n    COUNT(DISTINCT sc.name) AS \"Comments Count:Int:80\"\nFROM\n    `tabSample Work Order` swo\nLEFT JOIN\n    `tabMaterial Requirement` mr ON mr.parent = swo.name\nLEFT JOIN\n    `tabSample Request Quantity` srq ON srq.parent = swo.name\nLEFT JOIN\n    `tabWorkstation Details` wc ON wc.parent = swo.name\nLEFT JOIN\n    `tabSample Comments` sc ON sc.parent = swo.name\nWHERE\n    swo.docstatus IN (0,1)\nGROUP BY\n    swo.name\nORDER BY\n    swo.requested_time DESC;\n",
  "ref_doctype": "Sample Work Order",
  "reference_report": null,
  "report_name": "Sample Work Order Status & KPI Report",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Sample Work Order Status & KPI Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "System Manager"
   },
   {
    "parent": "Sample Work Order Status & KPI Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Asst. Merchandiser"
   },
   {
    "parent": "Sample Work Order Status & KPI Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Merchandiser"
   },
   {
    "parent": "Sample Work Order Status & KPI Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "General Manager (Marketing & Merchandising)"
   },
   {
    "parent": "Sample Work Order Status & KPI Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sample Technical Manager"
   },
   {
    "parent": "Sample Work Order Status & KPI Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sample Team Member"
   }
  ],
  "timeout": 0
 },
 {
  "add_total_row": 0,
  "add_translate_data": 0,
  "columns": [],
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "filters": [],
  "is_standard": "No",
  "javascript": null,
  "json": null,
  "letter_head": "MSFL",
  "modified": "2025-09-07 01:19:45.093994",
  "module": "Sample",
  "name": "Daily Designer Wise Sample Sent Report",
  "prepared_report": 0,
  "query": "SELECT\n    ROW_NUMBER() OVER(PARTITION BY swo.designer ORDER BY swo.requested_time) AS \"SL:Int\",\n    swo.designer AS \"Designer Name:Link/Employee\",\n    swo.requested_time AS \"Requisition Date:Date\",\n    swo.buyer AS \"Buyer:Link/Customer\",\n    swo.style AS \"Style:Data\",\n    swo.yarn_composition AS \"Yarn Composition:Data\",\n    swo.gauge AS \"GG:Data\",\n    swo.sample_type AS \"Sample Type:Select\",\n    swo.yarn_review AS \"Yarn Rev:Data\",\n    srq.quantity AS \"Qty:Float\",\n    swo.handover_date AS \"Handover Date:Date\",\n    swo.per_person_qty AS \"Per Person Qty:Float\",\n    swo.sample_submission_deadline AS \"Sample Submission Deadline:Date\",\n    swo.sample_category AS \"Sample Category:Select\",\n    DATEDIFF(swo.sample_submission_deadline, swo.requested_time) AS \"Lead Time:Data\",\n    swo.remarks AS \"Remarks:Data\"\nFROM\n    `tabSample Work Order` swo\nLEFT JOIN\n    `tabSample Request Quantity` srq ON srq.parent = swo.name\nWHERE\n    swo.docstatus IN (0,1)\nORDER BY\n    swo.designer ASC, swo.requested_time ASC;\n",
  "ref_doctype": "Sample Work Order",
  "reference_report": null,
  "report_name": "Daily Designer Wise Sample Sent Report",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "Daily Designer Wise Sample Sent Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "System Manager"
   },
   {
    "parent": "Daily Designer Wise Sample Sent Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Asst. Merchandiser"
   },
   {
    "parent": "Daily Designer Wise Sample Sent Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Merchandiser"
   },
   {
    "parent": "Daily Designer Wise Sample Sent Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "General Manager (Marketing & Merchandising)"
   },
   {
    "parent": "Daily Designer Wise Sample Sent Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sample Technical Manager"
   },
   {
    "parent": "Daily Designer Wise Sample Sent Report",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Sample Team Member"
   }
  ],
  "timeout": 0
 }
]